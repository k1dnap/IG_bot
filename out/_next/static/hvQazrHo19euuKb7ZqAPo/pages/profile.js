(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{O40h:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("eVuF"),r=n.n(a);function o(t,e,n,a,o,s,i){try{var c=t[s](i),l=c.value}catch(u){return void n(u)}c.done?e(l):r.a.resolve(l).then(a,o)}function s(t){return function(){var e=this,n=arguments;return new r.a(function(a,r){var s=t.apply(e,n);function i(t){o(s,a,r,i,c,"next",t)}function c(t){o(s,a,r,i,c,"throw",t)}i(void 0)})}}},"W+IF":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var a=n("ln6h"),r=n.n(a),o=n("O40h"),s=n("0iUn"),i=n("sLSF"),c=n("MI3g"),l=n("a7VT"),u=n("Tit0"),d=n("q1tI"),p=n.n(d),f=n("4J7I"),h=(n("YFqc"),p.a.createElement),v=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(c.a)(this,Object(l.a)(e).call(this,t))).state={data:{},scraped_accounts:[],isFetching:!0,error:null},n}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.loadProfileData()}},{key:"loadProfileData",value:function(){var t=Object(o.a)(r.a.mark(function t(){var e,n,a,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=window.location.search.split("login=")[1].split("&")[0],t.next=4,fetch("/api/profile_data?login="+e);case 4:return n=t.sent,t.next=7,n.json();case 7:return a=t.sent,this.setState({data:a,isFetching:!1}),t.next=11,fetch("/api/scraped_accounts");case 11:return n=t.sent,t.next=14,n.json();case 14:o=t.sent,this.setState({scraped_accounts:o,isFetching:!1}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),this.setState({isFetching:!1,error:t.t0});case 21:case"end":return t.stop()}},t,this,[[0,18]])}));return function(){return t.apply(this,arguments)}}()},{key:"profileChangeState",value:function(){var t=Object(o.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"followAll",value:function(){var t=Object(o.a)(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=window.location.search.split("login=")[1].split("&")[0],t.next=3,fetch("/api/start_following?login="+e);case 3:t.sent;case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"openModal",value:function(){var t=Object(o.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"closeModal",value:function(){var t=Object(o.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t;if(this.state.isFetching)t=h("p",null,"Loading data");else if(this.state.error)t=h("p",null,"Error on loading data");else{var e=this.state.data,n=this.state.scraped_accounts;console.log(n),n=0===n.length?"no scraped_accounts":n.map(function(t,e){return h("label",{key:e},h("input",{type:"checkbox",name:"subcategories[]",value:"1",checked:!0})," "+t.from)}),t=h("div",{className:"container"},h("h4",null,"Profile: "+e.login),h("button",{type:"button",class:"btn btn-secondary","data-toggle":"modal","data-target":"#exampleModal"},"Manage follow list"),h("br",null),h("div",{class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},h("div",{class:"modal-dialog",role:"document"},h("div",{class:"modal-content"},h("div",{class:"modal-header"},h("h5",{class:"modal-title",id:"exampleModalLabel"},"Manage follow list"),h("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},h("span",{"aria-hidden":"true"},"\xd7"))),h("div",{class:"modal-body"},n),h("div",{class:"modal-footer"},h("button",{type:"button",class:"btn btn-primary"},"Save changes"),h("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),h("button",{onClick:this.followAll,className:"btn btn-secondary",role:"button"},"Start followAll()"))}return h("div",null,t,h(f.a,{title:"Profiles",nav:"Profiles"}))}}]),e}(p.a.Component)},u1GD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){var t=n("W+IF");return{page:t.default||t}}])}},[["u1GD",1,0]]]);